<div fxLayout="row" fxLayoutAlign="space-between">
  <div fxLayout="column">
    <app-search-file [currentFolder]="fileExplorerViewer.currentFolder"
      (getContent)="fileExplorerViewer.getContent($event, true)"
      (getAllContentByRepo)="fileExplorerViewer.getAllContentByRepo($event)"></app-search-file>
  </div>
  <div fxLayout="column">
    <app-download-links></app-download-links>
  </div>
</div>

<div style="height: 100%; box-sizing: border-box;">
  <mat-card style="height: 100%; box-sizing: border-box; padding:0">
    <app-file-explorer-viewer #fileExplorerViewer [encodedJSON]="encodedJSON" (encodedJSONDataChange)="changeEncodedJSON($event)"
    [contentList]="contentList" (contentListDataChange)="changeContentList($event)">
  </app-file-explorer-viewer>
</mat-card>
</div>

<app-search-mangas #searchMangas [currentFolder]="fileExplorerViewer.currentFolder"
  (refreshFileExplorerView)="fileExplorerViewer.getAllContentByRepo(fileExplorerViewer.currentFolder)"></app-search-mangas>

<app-content-viewer #contentViewer [link]="fileExplorerViewer.link" [encodedJSON]="encodedJSON"
  [currentFolder]="fileExplorerViewer.currentFolder" [dataLeft]="dataLeft" [dataRight]="dataRight"
  (encodedJSONDataChange)="changeEncodedJSON($event)" [actualContent]="fileExplorerViewer.actualContent"
  (refreshFileExplorerView)="fileExplorerViewer.getAllContentByRepo(fileExplorerViewer.currentFolder)"
  (retrieveDataFromLocalStorage)=fileExplorerViewer.getContent($event)></app-content-viewer>

<div class="loading" *ngIf="loaderService.getSpinnerState()">
  <mat-spinner></mat-spinner>
</div>